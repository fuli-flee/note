[toc]

***
# 一. 基础光照

## 1.1 Phone
冯氏光照模型的主要结构由3个分量组成：
- 环境(Ambient)
- 漫反射(Diffuse)
- 镜面(Specular)

<center>

![alt text](/LearnOpenGL/图片/光照/Illumination11-26_09-04-01.jpg)

</center>

这个模型是一个经验模型, 是不符合能量守恒的

## 1.2 漫反射光照

两个单位向量的夹角越小，它们点乘的结果越倾向于1。当两个向量的夹角为90度的时候，点乘会变为0。
这同样适用于θ，θ越大，光对片段颜色的影响就应该越小

<center>

![alt text](/LearnOpenGL/图片/光照/Illumination11-26_09-19-57.jpg)

</center>

所以，计算漫反射光照需要什么？

- 法向量：一个垂直于顶点表面的向量。
- 定向的光线：作为光源的位置与片段的位置之间向量差的方向向量。为了计算这个光线，我们需要光的位置向量和片段的位置向量。

## 1.3 镜面光照
<center>

![alt text](/LearnOpenGL/图片/光照/Illumination11-26_21-03-27.jpg)

</center>

我们通过根据法向量翻折入射光的方向来计算反射向量。然后我们计算反射向量与观察方向的角度差，它们之间夹角越小，镜面光的作用就越大。由此产生的效果就是，我们看向在入射光在表面的反射方向时，会看到一点高光。

***
# 二. 材质

在现实世界里，每个物体会对光产生不同的反应。
当描述一个表面时，我们可以分别为三个光照分量定义一个材质颜色(Material Color)：
- 环境光照(Ambient Lighting)
- 漫反射光照(Diffuse Lighting)
- 镜面光照(Specular Lighting)

通过为每个分量指定一个颜色，我们就能够对表面的颜色输出有细粒度的控制了。现在，我们再添加一个**反光度(Shininess)**分量，结合上述的三个颜色，我们就有了全部所需的材质属性了

[各类材质的值](http://devernay.free.fr/cours/opengl/materials.html)
<center>

![alt text](/LearnOpenGL/图片/光照/Illumination11-27_15-33-26.jpg)

</center>

**对于材质的理解:**
材质就是对光的反射特性

比如说：在阳光下，树叶是绿色的，并不是树叶发出了绿色的光，而是树叶吸收了其他颜色的光，反射绿色的光。
剥离掉树叶这种物质，提取出树叶对光“处理”的特性，这就叫树叶材质。

一般我们使用 漫反射光、镜面反射光、光泽度等属性，来定义一种材质，其实我不喜欢这样的称呼，我更喜欢称作 漫反射率， 镜面反射率。

比如树叶的漫反射率(0.54, 0.89, 0.63), 可以这么理解，
树叶可以反射光照中: 54%的红色光，89%的绿色光，63%的蓝色光，
树叶可以吸收光照中: 1-54%的红色光，1-89%的绿色光，1-63%的蓝色光
